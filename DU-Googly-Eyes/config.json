{"slots":{"0":{"name":"RightEye","type":{"events":[],"methods":[]}},"1":{"name":"LeftEye","type":{"events":[],"methods":[]}},"2":{"name":"Mouth","type":{"events":[],"methods":[]}},"3":{"name":"db","type":{"events":[],"methods":[]}},"4":{"name":"slot5","type":{"events":[],"methods":[]}},"5":{"name":"slot6","type":{"events":[],"methods":[]}},"6":{"name":"slot7","type":{"events":[],"methods":[]}},"7":{"name":"slot8","type":{"events":[],"methods":[]}},"8":{"name":"slot9","type":{"events":[],"methods":[]}},"9":{"name":"slot10","type":{"events":[],"methods":[]}},"-1":{"name":"unit","type":{"events":[],"methods":[]}},"-2":{"name":"system","type":{"events":[],"methods":[]}},"-3":{"name":"library","type":{"events":[],"methods":[]}}},"handlers":[{"code":"if RightEye ~= nil then RightEye.activate() end\nif LeftEye ~= nil then LeftEye.activate() end\nif Mouth ~= nil then Mouth.activate() end\nif RightEye ~= nil then RightEye.setCenteredText('Right Eye') end\nif LeftEye ~= nil then LeftEye.setCenteredText('Left Eye') end\nif Mouth ~= nil then Mouth.setCenteredText('Mouth') end\n\n-- vars\neyeX = 950\neyeY = 520\neyePosX = 950\neyePosY = 520\nmouthX = 950\nmouthY = 520\nmouthPosX = 950\nmouthPosY = 520\ncurrentMouth = 1\nholdMouthCount = 1\ndirection = 1\nspeed = 20\nmouthSpeed = 3\nisEyeMoving = true\nstare = false\nstareCount = 0\nlastEyePos = 1\nisBlinking = false\nblinkHeight = 0\n\neye1 = '<circle cx=\"'.. eyeX ..'\" cy=\"'.. eyeY ..'\" r=\"500\" stroke=\"white\" stroke-width=\"3\" fill=\"red\" />'\neye1 = eye1 .. '<circle cx=\"'.. eyeX ..'\" cy=\"'.. eyeY ..'\" r=\"300\" fill=\"black\" />'\neye1 = eye1 .. '<circle cx=\"'.. eyeX - 80 ..'\" cy=\"'.. eyeY + 80 ..'\" r=\"75\" fill=\"white\" />'\neye2 = '<circle cx=\"'.. eyeX ..'\" cy=\"'.. eyeY ..'\" r=\"500\" stroke=\"white\" stroke-width=\"3\" fill=\"red\" />'\neye2 = eye2 .. '<circle cx=\"'.. eyeX ..'\" cy=\"'.. eyeY ..'\" r=\"300\" fill=\"black\" />'\neye2 = eye2 .. '<circle cx=\"'.. eyeX + 80 ..'\" cy=\"'.. eyeY + 80 ..'\" r=\"75\" fill=\"white\" />'\n","filter":{"args":[],"signature":"start()","slotKey":"-1"},"key":"0"},{"code":"if RightEye ~= nil then RightEye.deactivate() end\nif LeftEye ~= nil then LeftEye.deactivate() end\nif Mouth ~= nil then Mouth.deactivate() end","filter":{"args":[],"signature":"stop()","slotKey":"-1"},"key":"1"},{"code":"-- Eye Movement\nif (eyeIsMoving == true and stare == false) then\n    \n    if (eyeX > eyePosX) then     \n        if ((eyePosX + (speed * 1)) <= eyeX) then\n            eyePosX = eyePosX + (speed * 1)\n            mouthPosX = mouthPosX + (mouthSpeed * 1) \n        else\n            eyePosX = eyeX\n        end\n    else\n        if ((eyePosX + (speed * -1)) >= eyeX) then\n            eyePosX = eyePosX + (speed * -1)\n            mouthPosX = mouthPosX + (mouthSpeed * -1)\n        else\n            eyePosX = eyeX\n        end\n    end\n    \n     if (eyeY > eyePosY) then     \n        if ((eyePosY + (speed * 1)) <= eyeY) then\n            eyePosY = eyePosY + (speed * 1)\n            mouthPosY = mouthPosY + (mouthSpeed * 1)\n        else\n            eyePosY = eyeY\n        end\n    else\n        if ((eyePosY + (speed * -1)) >= eyeY) then\n            eyePosY = eyePosY + (speed * -1)\n            mouthPosY = mouthPosY + (mouthSpeed * -1)\n        else\n            eyePosY = eyeY\n        end\n    end\n    \n    if (eyePosX == eyeX and eyePosY == eyeY) then \n        eyeIsMoving = false\n    end\nelseif (stareCount == 0) then\n    stare = false\nelseif (stare) then\n    stareCount = stareCount - 1\nend\n\n-- Blinking\nif (isBlinking) then\n    if (blinkHeight + 50 < 540) then\n        blinkHeight = blinkHeight + 50\n    else \n        blinkHeight = 540\n        isBlinking = false\n    end\nelseif (blinkHeight > 0) then\n    if (blinkHeight - 50 > 0) then\n        blinkHeight = blinkHeight - 50\n    else \n        blinkHeight = 0\n    end\nend\n\n-- Set Next Eye Movement\nif (eyeIsMoving)then\n    -- do nothing \nelse\n    local goAgain = true\n    while (goAgain) do\n        rand = math.random(1, 5)\n        \n        if (rand == 1) then \n            eyeX = 950 \n            eyeY = 520\n            mouthX = 950\n            mouthY = 520\n            direction = 1\n        elseif (rand == 2) then \n            eyeX = 550 \n            eyeY = 520\n            mouthX = 550\n            mouthY = 520\n            direction = -1\n        elseif (rand == 3) then \n            eyeX = 1350 \n            eyeY = 520\n            mouthX = 1350\n            mouthY = 520\n            direction = 1\n        elseif (rand == 4) then \n            eyeX = 950 \n            eyeY = 120\n            mouthX = 950\n            mouthY = 120\n            direction = -1\n        elseif (rand == 5) then \n            eyeX = 950 \n            eyeY = 920\n            mouthX = 950\n            mouthY = 920\n        end\n         eyeIsMoving = true\n\n        if (rand == lastEyePos) then\n            rand = math.random(1, 3)\n            if (rand == 3) then \n                goAgain = false\n             else \n                goAgain = true\n             end\n        else\n            goAgain = false\n            lastEyePos = rand\n        end\n        \n         rand = math.random(1, 4)\n         if (rand ~= 4) then\n            stare = true\n            stareCount = math.random(25, 100)\n         end\n     end\n    \n    if (isBlinking == false and blinkHeight == 0) then\n        rand = math.random(1, 8)\n        if (rand == 3) then \n            isBlinking = true\n        end\n    end\n    \n    if (holdMouthCount == 0) then\n        currentMouth = math.random(1, 6)\n        holdMouthCount = math.random(3, 6)\n    else\n        holdMouthCount = holdMouthCount - 1\n    end  \nend\n\nmouths = {}\nmouths[1] = '<circle cx=\"'.. mouthPosX ..'\" cy=\"'.. mouthPosY ..'\" r=\"100\" fill=\"white\" />'\nmouths[2] = '<path d=\"M '.. mouthPosX - 250 ..' '.. mouthPosY - 50 ..' Q '.. mouthPosX ..' '.. mouthPosY + 350  ..' '.. mouthPosX + 250 ..' '.. mouthPosY - 50 ..' Z \" stroke=\"white\" stroke-width=\"30\" fill=\"white\" />'\nmouths[2] = mouths[2] .. '<path d=\"M '.. mouthPosX - 190 ..' '.. mouthPosY + 50 ..' Q '.. mouthPosX - 5 ..' '.. mouthPosY - 100  ..' '.. mouthPosX ..' '.. mouthPosY + 50 ..' M '.. mouthPosX ..' '.. mouthPosY + 50 ..' Q '.. mouthPosX + 5 ..' '.. mouthPosY - 100  ..' '.. mouthPosX + 190 ..' '.. mouthPosY + 50 ..' M '.. mouthPosX + 190 ..' '.. mouthPosY + 50 ..' Q '.. mouthPosX ..' '.. mouthPosY + 270  ..' '.. mouthPosX - 190 ..' '.. mouthPosY + 50 ..'\" stroke=\"white\" stroke-width=\"5\" fill=\"red\" />'\n    \neye1 = '<circle cx=\"'.. eyePosX ..'\" cy=\"'.. eyePosY ..'\" r=\"500\" fill=\"white\" />'\neye1 = eye1 .. '<circle cx=\"'.. eyePosX ..'\" cy=\"'.. eyePosY ..'\" r=\"300\" fill=\"black\" />'\neye1 = eye1 .. '<circle cx=\"'.. eyePosX - 80 ..'\" cy=\"'.. eyePosY + 80 ..'\" r=\"75\" fill=\"white\" />'\neye1 = eye1 .. '<rect x=\"0\" y=\"-50\" width=\"1980\" height=\"'.. blinkHeight ..'\" fill=\"black\" />'\neye1 = eye1 .. '<rect x=\"0\" y=\"'.. 1130 - blinkHeight ..'\" width=\"1980\" height=\"'.. blinkHeight ..'\" fill=\"black\" />'\neye2 = '<circle cx=\"'.. eyePosX ..'\" cy=\"'.. eyePosY ..'\" r=\"500\" fill=\"white\" />'\neye2 = eye2 .. '<circle cx=\"'.. eyePosX ..'\" cy=\"'.. eyePosY ..'\" r=\"300\" fill=\"black\" />'\neye2 = eye2 .. '<circle cx=\"'.. eyePosX + 80 ..'\" cy=\"'.. eyePosY + 80 ..'\" r=\"75\" fill=\"white\" />'\neye2 = eye2 .. '<rect x=\"0\" y=\"-50\" width=\"1980\" height=\"'.. blinkHeight ..'\" fill=\"black\" />'\neye2 = eye2 .. '<rect x=\"0\" y=\"'.. 1130 - blinkHeight ..'\" width=\"1980\" height=\"'.. blinkHeight ..'\" fill=\"black\" />'\n\nRightEye.setSVG(eye1)\nLeftEye.setSVG(eye2)\nif (Mouth ~= nil) then\n    Mouth.setSVG(mouths[2])\nend\n\n\n\n\n\n","filter":{"args":[],"signature":"update()","slotKey":"-2"},"key":"2"}],"methods":[],"events":[]}
